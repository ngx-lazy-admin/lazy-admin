"use strict";(self.webpackChunkgo_admin_ng=self.webpackChunkgo_admin_ng||[]).push([[716],{4716:(Ot,E,e)=>{e.r(E),e.d(E,{FormModule:()=>Ct});var D=e(7429),u=e(7038),y=e(3478),p=e(1945),b=e(9552),N=e(3640),k=e(4147),O=e(2359),I=e(868),L=e(4390),d=e(325),f=e(3075),$=e(1721),j=e(8929),P=e(7625),Y=e(9857),R=e(9630),U=e(1008),w=e(3268),Q=e(2820),z=e(9860),t=e(5e3),G=e(3073),W=e(9439),X=e(5527),J=e(3368),K=e(5194),_=e(1101),V=e(520),C=e(9808),q=e(6042),tt=e(2683),ot=e(2643),nt=e(1941),et=e(6498);let rt=(()=>{class n{transform(o,...r){return(n=>new et.y(i=>{const F=n,s=document.createElement("canvas"),c=s.getContext("2d");if(s.setAttribute("width","332px"),s.setAttribute("height","286px"),c){c.translate(106,111),c.rotate(Math.PI/180*Number(-22));const Et=64;if(F){const A=1*Number(16);c.font=`normal normal normal ${A}px/${Et}px sans-serif`,c.fillStyle="rgba(0,0,0,.15)",c.fillText(F,0,0),s.toDataURL(),i.next("url("+s.toDataURL()+")")}}else i.error("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301Canvas")}))(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=t.Yjl({name:"watermark",type:n,pure:!0}),n})();function at(n,i){if(1&n&&(t.TgZ(0,"nz-page-header",7)(1,"nz-page-header-title"),t._uU(2),t.qZA(),t.TgZ(3,"nz-page-header-content"),t._UZ(4,"div",8),t.ALo(5,"marked"),t.qZA()()),2&n){const o=t.oxw(3);t.xp6(2),t.Oqu(o.info.title),t.xp6(2),t.Q6J("innerHtml",t.lcZ(5,2,o.info.content),t.oJD)}}function st(n,i){1&n&&t._UZ(0,"formly-field",10),2&n&&t.Q6J("field",i.$implicit)}function lt(n,i){1&n&&t.YNc(0,st,1,1,"formly-field",9),2&n&&t.Q6J("ngForOf",i.$implicit.fieldGroup)}function ct(n,i){if(1&n){const o=t.EpF();t.ynx(0),t._UZ(1,"nz-alert",2),t.YNc(2,at,6,4,"nz-page-header",3),t.TgZ(3,"form",4),t.NdJ("ngSubmit",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.submit())}),t.TgZ(4,"formly-form",5),t.NdJ("modelChange",function(a){t.CHM(o);const v=t.oxw(2);return t.KtG(v.model=a)}),t.YNc(5,lt,1,1,"ng-template",6),t.qZA()(),t.BQk()}if(2&n){const o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.info),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("form",o.form)("fields",o.fields)("model",o.model)("options",o.options)}}function mt(n,i){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"nz-result",11)(2,"div",12)(3,"button",13),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.backHome())}),t._uU(4,"Back Home"),t.qZA()()(),t.BQk()}}function dt(n,i){1&n&&(t.ynx(0),t.TgZ(1,"nz-result",14)(2,"div",12)(3,"button",15),t._uU(4,"Back Home"),t.qZA()()(),t.BQk()),2&n&&(t.xp6(3),t.Q6J("routerLink","dashboard/analysis"))}function ft(n,i){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"nz-result",16)(2,"div",12)(3,"button",13),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.backHome())}),t._uU(4,"Back Home"),t.qZA()()(),t.BQk()}}function ht(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ct,6,6,"ng-container",1),t.YNc(2,mt,5,0,"ng-container",1),t.YNc(3,dt,5,1,"ng-container",1),t.YNc(4,ft,5,0,"ng-container",1),t.BQk()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",200==o.status),t.xp6(1),t.Q6J("ngIf",403==o.status),t.xp6(1),t.Q6J("ngIf",404==o.status),t.xp6(1),t.Q6J("ngIf",500==o.status)}}const gt=[{canDeactivate:[],path:"",pathMatch:"full",component:(()=>{class n{constructor(o,r,a,v,B,M,H,F,x,T,S){var h;this.cd=o,this.fieldService=r,this.route=a,this.router=v,this.ngZone=B,this.nzConfigService=M,this.routeCache=H,this.modalService=F,this.previewService=x,this.codeEditorService=T,this.http=S,this.model={},this.form=new f.cw({}),this.fields=[],this.options={formState:{caches:"1"}},this.loading=!0,this.status=200,this.codeType="json",this.code="",this.cacheFields="",this.cloneFields="",this.destroy$=new j.xQ,this.codeEditor=null,this.rooterChange=this.router.events.subscribe(g=>{g instanceof d.m2&&(this.loading=!0,this.cd.markForCheck(),this.cacheFields=this.routeCache.get(this.router.url),this.cacheFields?(this.render(this.cacheFields),this.routeCache.recoveryHistoryPosition(this.router.url)):(this.loading=!0,this.fieldService.getField(this.router.url).subscribe(l=>{console.log(l),this.routeCache.set(this.router.url,l),this.render(this.routeCache.get(this.router.url))},l=>{this.loading=!1,this.status=null==l?void 0:l.status,this.clearData(),this.cd.markForCheck()})))});const Z=(null===(h=this.nzConfigService.getConfigForComponent("codeEditor"))||void 0===h?void 0:h.defaultEditorOption)||{};this.nzConfigService.set("codeEditor",{defaultEditorOption:Object.assign(Object.assign({},Z),{theme:"vs-dark",minimap:{enabled:!1},language:"javascript",autoIndent:!0,formatOnPaste:!0,formatOnType:!0,wordwrap:"on"})}),(0,Y.Z)(".",(g,l)=>{this.codeEditor||(this.codeEditor=this.codeEditorService.create({nzHeight:"100vh",nzPlacement:"bottom",nzWrapClassName:"dragModal",nzOnOk:()=>new Promise(s=>setTimeout(s,1e3)),fields:this.cloneFields,model:this.model,nzMask:!1}),this.codeEditor.afterClose.subscribe(s=>{console.log(s),this.codeEditor=null}))}),(0,Y.Z)("m",(g,l)=>{const s=this.modalTemplate.getTemplateRef("form");this.modalService.create(s,{nzTitle:null,nzFooter:null,nzWidth:"960px",nzMask:!0,nzComponentParams:{nzTitle:"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898",field:this.cacheFields,model:this.model,options:this.options}})})}render(o){this.loading=!0,this.info=null==o?void 0:o.info;try{this.form.reset({},{onlySelf:!1,emitEvent:!1}),this.form=new f.cw({}),this.cloneFields=(0,z.d9)(o.fields),this.fields="string"==typeof(null==o?void 0:o.fields)?(0,w.o9)((0,z.d9)(o.fields)):(0,z.d9)(o.fields),this.model=null==o?void 0:o.data,this.options.formState.cacheFields=this.cacheFields,this.code=(0,R.format)(JSON.stringify(o.fields),{parser:"json",plugins:[U]})}catch(r){this.fields=[],this.model={},this.info=null,console.log(r)}finally{this.status=200,this.loading=!1,this.cd.detectChanges()}}clearData(){this.fields=[],this.model={},this.info=null,this.form.reset(),this.cd.detectChanges(),this.cd.markForCheck()}setup(){this.ngZone.runOutsideAngular(()=>(0,$.ov)().pipe((0,P.R)(this.destroy$)).subscribe(()=>{}))}submit(){}preview(o){this.previewService.open(o)}backHome(){}ngOnDestroy(){this.rooterChange&&this.rooterChange.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(G.D),t.Y36(d.gz),t.Y36(d.F0),t.Y36(t.R0b),t.Y36(W.jY),t.Y36(X.Q),t.Y36(J.Z),t.Y36(K.m),t.Y36(_.h),t.Y36(V.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-form"]],viewQuery:function(o,r){if(1&o&&t.Gf(Q.B,5),2&o){let a;t.iGM(a=t.CRH())&&(r.modalTemplate=a.first)}},hostAttrs:[1,"p-3","d-block"],decls:5,vars:6,consts:[[1,"watermark"],[4,"ngIf"],["nzType","info","nzCloseable","","nzDescription","\u952e\u76d8\u70b9\u51fb . , \u53ef\u4ee5\u7f16\u8f91\u5f53\u524d\u9875\u9762\u914d\u7f6e, \u70b9\u51fb m \u53ef\u4ee5\u628a\u5f53\u524d\u9875\u9762\u8f6c\u5f39\u7a97",1,"mb-3"],["class","bg-white mb-3",4,"ngIf"],[1,"row",3,"formGroup","ngSubmit"],[1,"row",3,"form","fields","model","options","modelChange"],["formlyTemplate",""],[1,"bg-white","mb-3"],[3,"innerHtml"],[3,"field",4,"ngFor","ngForOf"],[3,"field"],["nzStatus","403","nzTitle","403","nzSubTitle","Sorry, you are not authorized to access this page."],["nz-result-extra",""],["nz-button","","nzType","primary",3,"click"],["nzStatus","404","nzTitle","404","nzSubTitle","Sorry, the page you visited does not exist."],["nz-button","","nzType","primary",3,"routerLink"],["nzStatus","500","nzTitle","500","nzSubTitle","Sorry, there is an error on server."]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.ALo(2,"watermark"),t.YNc(3,ht,5,4,"ng-container",1),t.qZA(),t._UZ(4,"app-share-template")),2&o&&(t.uIk("style","--watermark: "+t.lcZ(1,2,t.lcZ(2,4,"lazy admin pro")),t.Ckj),t.xp6(3),t.Q6J("ngIf",!r.loading&&r.form))},dependencies:[d.rH,C.sg,C.O5,f._Y,f.JL,f.sg,q.ix,tt.w,ot.dQ,y.ml,y.ey,p.$O,p.u9,p.u5,O.r,u.X9,u.T7,u.cw,Q.B,C.Ov,nt.r,rt],styles:['.watermark[_ngcontent-%COMP%]{position:relative}.watermark[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;pointer-events:none;z-index:9;opacity:1;background-image:var(--watermark)}'],changeDetection:0}),n})()}];let ut=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(gt),d.Bz]}),n})();var pt=e(4224),vt=e(4903),Ft=e(235),yt=e(5503),zt=e(5929);let Ct=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ut,zt.d,yt.D,b.j,N.Qp,y.XD,k.BL,L.qw,p.KJ,D.eL,O.L,I.we,u.X0.forRoot({extras:{renderFormlyFieldElement:!1}}),pt.D,Ft.c,vt.k,J._]}),n})()}}]);