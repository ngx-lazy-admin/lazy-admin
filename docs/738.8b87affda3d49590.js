"use strict";(self.webpackChunkgo_admin_ng=self.webpackChunkgo_admin_ng||[]).push([[738],{6738:(st,T,c)=>{c.r(T),c.d(T,{ModalModule:()=>at});var f=c(9808),_=c(3075),p=c(7429),r=c(4409),d=c(7038),h=c(6042),k=c(3478),Z=c(1945),z=c(9552),A=c(3640),R=c(4147),y=c(2359),E=c(868),F=c(4390),g=c(325),t=c(5e3),N=c(3123),J=c(1171),v=c(2683),b=c(6354);let w=(()=>{class l{constructor(){this.id="",this.clickEvent=new t.vpe}click(e){this.clickEvent.emit({type:e,id:this.id})}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-modal-title"]],inputs:{nzTitle:"nzTitle",id:"id"},outputs:{clickEvent:"clickEvent"},decls:8,vars:1,consts:[[1,"modal-wrap"],["cdkDrag","","cdkDragHandle","","cdkDragRootElement",".ant-modal-content",1,"ant-modal-header","p-0","d-block"],[1,"d-flex","justify-content-between"],[1,"p-3",3,"innerHTML"],[1,"d-flex","align-items-center",2,"cursor","auto"],["nz-icon","","nzType","minus","nzTheme","outline",1,"p-3",3,"click"],["nz-icon","","nzType","fullscreen","nzTheme","outline",1,"p-3",3,"click"],["nz-icon","","nzType","close","nzTheme","outline",1,"p-3",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"i",5),t.NdJ("click",function(){return n.click("min")}),t.qZA(),t.TgZ(6,"i",6),t.NdJ("click",function(){return n.click("max")}),t.qZA(),t.TgZ(7,"i",7),t.NdJ("click",function(){return n.click("close")}),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("innerHTML",n.nzTitle,t.oJD))},dependencies:[r.Zt,r.Bh,v.w,b.Ls],encapsulation:2}),l})();const O=["portalTemplateRef"],B=["titleTemplateRef"],x=["iframeTemplateRef"],U=["formTemplateRef"],Y=["blankTemplateRef"];function G(l,a){}function H(l,a){if(1&l&&t.YNc(0,G,0,0,"ng-template",5),2&l){const e=t.oxw();t.Q6J("cdkPortalOutlet",e.selectedPortal)}}function S(l,a){if(1&l&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.qZA()()),2&l){const e=a.context;t.xp6(2),t.hij(" ",(null==e?null:e.nzTitle)||"\u6807\u9898"," ")}}function Q(l,a){if(1&l){const e=t.EpF();t.TgZ(0,"app-modal-title",8),t.NdJ("clickEvent",function(){const s=t.CHM(e).modalRef;return t.KtG(s.destroy())}),t.qZA(),t.TgZ(1,"div",9),t._UZ(2,"iframe",10),t.qZA()}if(2&l){const e=a.$implicit;t.Q6J("nzTitle",e.nzTitle)("id",e.id),t.xp6(2),t.Q6J("src",null==e?null:e.url,t.uOi)}}function P(l,a){1&l&&t._UZ(0,"formly-field",15),2&l&&t.Q6J("field",a.$implicit)}function D(l,a){1&l&&t.YNc(0,P,1,1,"formly-field",14),2&l&&t.Q6J("ngForOf",a.$implicit.fieldGroup)}function $(l,a){if(1&l){const e=t.EpF();t.TgZ(0,"app-modal-title",8),t.NdJ("clickEvent",function(o){const i=t.CHM(e).modalRef,m=t.oxw();return t.KtG(m.templateClick(o,i))}),t.qZA(),t.TgZ(1,"div",11)(2,"formly-form",12),t.NdJ("modelChange",function(o){const i=t.CHM(e).$implicit;return t.KtG(i.model=o)}),t.YNc(3,D,1,1,"ng-template",13),t.qZA()()}if(2&l){const e=a.$implicit;t.Q6J("nzTitle",null==e?null:e.nzTitle)("id",e.id),t.xp6(2),t.Q6J("fields",e.field)("model",e.model)("options",e.options)}}function L(l,a){1&l&&t.GkF(0)}function j(l,a){if(1&l){const e=t.EpF();t.TgZ(0,"app-modal-title",8),t.NdJ("clickEvent",function(o){const i=t.CHM(e).modalRef,m=t.oxw();return t.KtG(m.templateClick(o,i))}),t.qZA(),t.TgZ(1,"div",11),t.YNc(2,L,1,0,"ng-container",16),t.qZA()}if(2&l){const e=a.$implicit;t.Q6J("nzTitle",null==e?null:e.nzTitle)("id",e.id),t.xp6(2),t.Q6J("ngTemplateOutlet",e.nzContent)("ngTemplateOutletContext",e)}}let C=(()=>{class l{constructor(e,n,o,s,i,m,ct){this._viewContainerRef=e,this.elementRef=n,this.injector=o,this.appRef=s,this.componentFactoryResolver=i,this.modalService=m,this.cd=ct}ngAfterViewInit(){this.addEventListenMessage()}open(e,n){console.log(e,n)}getComponentRef(e){const n=new p.UE(this.getTemplateRef(e.type),this._viewContainerRef,{context:e});return new p.u0(this.elementRef.nativeElement,this.componentFactoryResolver,this.appRef,this.injector).attachTemplatePortal(n),this.portalTemplateRef}getTemplateRef(e){switch(e){case"title":return this.titleTemplateRef;case"iframe":return this.iframeTemplateRef;default:return this.blankTemplateRef}}templateClick(e,n){if("close"===e.type)n.destroy();else if("min"===e.type){const o=(0,N.E)(n.getConfig().nzWrapClassName,"d-none");n.updateConfig({nzWrapClassName:o})}this.cd.detectChanges()}addEventListenMessage(){window.addEventListener("message",e=>{})}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.s_b),t.Y36(t.SBq),t.Y36(t.zs3),t.Y36(t.z2F),t.Y36(t._Vd),t.Y36(J.Z),t.Y36(t.sBO))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-share-template"]],viewQuery:function(e,n){if(1&e&&(t.Gf(O,5),t.Gf(B,5),t.Gf(x,5),t.Gf(U,5),t.Gf(Y,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.portalTemplateRef=o.first),t.iGM(o=t.CRH())&&(n.titleTemplateRef=o.first),t.iGM(o=t.CRH())&&(n.iframeTemplateRef=o.first),t.iGM(o=t.CRH())&&(n.formTemplateRef=o.first),t.iGM(o=t.CRH())&&(n.blankTemplateRef=o.first)}},decls:10,vars:0,consts:[["portalTemplateRef",""],["titleTemplateRef",""],["iframeTemplateRef",""],["formTemplateRef",""],["blankTemplateRef",""],[3,"cdkPortalOutlet"],["cdkDrag","","cdkDragHandle","","cdkDragRootElement",".ant-modal-content",1,"p-0","d-block"],[1,"d-flex","justify-content-between"],[3,"nzTitle","id","clickEvent"],[1,"d-flex","min-vh-75"],[1,"w-100","h-auto",3,"src"],[1,"ant-modal-body"],[3,"fields","model","options","modelChange"],["formlyTemplate",""],[3,"field",4,"ngFor","ngForOf"],[3,"field"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.YNc(0,H,1,1,"ng-template",null,0,t.W1O),t.YNc(2,S,3,1,"ng-template",null,1,t.W1O),t.YNc(4,Q,3,3,"ng-template",null,2,t.W1O),t.YNc(6,$,4,5,"ng-template",null,3,t.W1O),t.YNc(8,j,3,4,"ng-template",null,4,t.W1O))},dependencies:[f.sg,f.tP,r.Zt,r.Bh,p.Pl,d.X9,d.T7,d.cw,w],encapsulation:2,changeDetection:0}),l})();var M=c(2735),W=c(6648),I=c(2313),K=c(520),X=c(2643),u=c(6285);const V=["titleTemplate"];function q(l,a){1&l&&t._uU(0,"Custom Modal Title11")}function tt(l,a){if(1&l&&(t.TgZ(0,"div",4),t._uU(1),t._UZ(2,"img",5),t.qZA()),2&l){const e=a.$implicit;t.xp6(1),t.hij("",e," "),t.xp6(1),t.Q6J("src",e.cover_url,t.LSH)}}const et=[{path:"",component:(()=>{class l{constructor(e,n,o,s,i){this.modalService=e,this.dispatch=n,this._viewContainer=o,this.sanitizer=s,this.http=i,this.model={email:"email@gmail.com"},this.field=[{key:"email",type:"nz-input",className:"w-100 mb-2 d-inline-block",wrappers:["form"],templateOptions:{label:"Email address",placeholder:"Enter email",required:!0}}],this.form=new _.cw({}),this.options={formState:{caches:"1"}},this.list=[],this.modalId="",this.getList()}ngOnInit(){}create(e){this.modalService.create(e)}iframe(){const e=this.modalTemplate.getTemplateRef("iframe"),n={nzTitle:null,nzBodyStyle:{padding:0},nzFooter:null,nzComponentParams:{nzTitle:"Iframe",url:this.sanitizer.bypassSecurityTrustResourceUrl("/blank/components/autocomplete")},nzWidth:"960px"};this.modalService.create(e,n)}formly(){const e=this.modalTemplate.getTemplateRef("form");this.modalService.create(e,{nzTitle:null,nzFooter:null,nzWidth:"960px",nzComponentParams:{nzTitle:"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898",field:this.field,model:this.model,options:this.options}})}blank(e){const n=this.modalTemplate.getTemplateRef("blank");this.modalService.create(n,{nzTitle:null,nzFooter:null,nzWidth:"960px",nzComponentParams:{nzTitle:"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898",field:this.field,model:this.model,options:this.options}})}custom(e){this.modalService.create(e,{nzTitle:this.titleTemplateRef})}close(e){}open(e){console.log(e)}search(e){this.modalService.open("search")}dispatchSearch(e){this.dispatch.open("search",{afterClose:()=>{console.log("\u5f39\u7a97\u5173\u95ed\u4e86")}},null)}dispatchForm(e){this.dispatch.open("form")}openBlank(e){this.dispatch.open("blank",{afterOpen:o=>{console.log("\u5f39\u7a97\u6253\u5f00\u4e86"),console.log(o),this.modalId=o.componentInstance.id}})}closeBlank(e){this.dispatch.close(this.modalId)}hideBlank(e){this.dispatch.hide(this.modalId)}showBlank(e){this.dispatch.open("blank")}hideAllBlank(e){this.dispatch.hideAll()}showAllBlank(e){this.dispatch.showAll()}getList(){this.http.post("/srv.model/get_list?schems=product&project=artcool",{filter:[{field:"status",op:"in",value:"1,10"}],include:"id,status,reason,cover_url,like_count,share_count,view_count,company_id,attachment_info",page:1,page_size:1e3,project:"artcool",schema:"product",sorter:{field:"_ctime",sort:"desc"}}).subscribe(e=>{var n;console.log(e),this.list=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.list,console.log(this.list)})}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(M.Z),t.Y36(W.n5),t.Y36(t.s_b),t.Y36(I.H7),t.Y36(K.eN))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-modal"]],viewQuery:function(e,n){if(1&e&&(t.Gf(V,5,t.Rgc),t.Gf(C,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.titleTemplateRef=o.first),t.iGM(o=t.CRH())&&(n.modalTemplate=o.first)}},decls:39,vars:1,consts:[["modalTitle",""],["nz-button","",3,"click"],["itemSize","23",1,"example-viewport"],["class","example-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item"],[3,"src"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,q,1,0,"ng-template",null,0,t.W1O),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(o);const i=t.MAs(1);return t.KtG(n.create(i))}),t._uU(3," \u6253\u5f00\u4e00\u4e2a\u6a21\u677f\u5bf9\u8bdd\u6846 "),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return n.iframe()}),t._uU(5," \u6253\u5f00\u4e00\u4e2aiframe "),t.qZA(),t.TgZ(6,"button",1),t.NdJ("click",function(){return n.formly()}),t._uU(7," \u6253\u5f00\u4e00\u4e2aformly "),t.qZA(),t.TgZ(8,"button",1),t.NdJ("click",function(){t.CHM(o);const i=t.MAs(1);return t.KtG(n.blank(i))}),t._uU(9," \u6253\u5f00\u4e00\u4e2ablank "),t.qZA(),t.TgZ(10,"button",1),t.NdJ("click",function(i){return n.close(i)}),t._uU(11," \u663e\u793a\u5168\u90e8 "),t.qZA(),t.TgZ(12,"button",1),t.NdJ("click",function(i){return n.search(i)}),t._uU(13," search "),t.qZA(),t.TgZ(14,"button",1),t.NdJ("click",function(i){return n.dispatchSearch(i)}),t._uU(15," dispatchSearch "),t.qZA(),t.TgZ(16,"button",1),t.NdJ("click",function(i){return n.dispatchForm(i)}),t._uU(17," dispatchForm "),t.qZA(),t.TgZ(18,"button",1),t.NdJ("click",function(i){return n.openBlank(i)}),t._uU(19," \u6253\u5f00\u5f39\u7a97 "),t.qZA(),t.TgZ(20,"button",1),t.NdJ("click",function(i){return n.closeBlank(i)}),t._uU(21," \u5173\u95ed\u5f39\u7a97 "),t.qZA(),t.TgZ(22,"button",1),t.NdJ("click",function(i){return n.hideBlank(i)}),t._uU(23," \u9690\u85cf\u5f39\u7a97 "),t.qZA(),t.TgZ(24,"button",1),t.NdJ("click",function(i){return n.showBlank(i)}),t._uU(25," \u663e\u793a\u5f39\u7a97 "),t.qZA(),t.TgZ(26,"button",1),t.NdJ("click",function(i){return n.hideAllBlank(i)}),t._uU(27," \u9690\u85cf\u5168\u90e8 "),t.qZA(),t.TgZ(28,"button",1),t.NdJ("click",function(i){return n.showAllBlank(i)}),t._uU(29," \u663e\u793a\u5168\u90e8 "),t.qZA(),t.TgZ(30,"button",1),t.NdJ("click",function(i){return n.showAllBlank(i)}),t._uU(31," \u6253\u5f00\u767e\u5ea6 "),t.qZA(),t.TgZ(32,"button",1),t.NdJ("click",function(i){return n.showAllBlank(i)}),t._uU(33," \u6253\u5f00\u6dd8\u5b9d "),t.qZA(),t.TgZ(34,"button",1),t.NdJ("click",function(i){return n.showAllBlank(i)}),t._uU(35," \u6253\u5f00\u817e\u8baf "),t.qZA(),t._UZ(36,"app-share-template"),t.TgZ(37,"cdk-virtual-scroll-viewport",2),t.YNc(38,tt,3,2,"div",3),t.qZA()}2&e&&(t.xp6(38),t.Q6J("cdkVirtualForOf",n.list))},dependencies:[C,h.ix,v.w,X.dQ,u.xd,u.x0,u.N7],styles:[".ant-modal-wrap{overflow:unset}.example-viewport[_ngcontent-%COMP%]{width:100%;height:100vh}  .cdk-virtual-scroll-content-wrapper{display:flex;flex-wrap:wrap}.example-viewport[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]{width:12vw;height:12vw;position:relative}.example-viewport[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}body[_ngcontent-%COMP%]{background-color:#000}"]}),l})()}];let nt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[g.Bz.forChild(et),g.Bz]}),l})();var lt=c(4207),ot=c(4903),it=c(6944);let at=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[f.ez,_.u5,_.UX,nt,M._,r._t,h.sL,z.j,A.Qp,k.XD,R.BL,F.qw,Z.KJ,y.L,E.we,p.eL,u.Cl,d.X0,lt.D,it.c,ot.k]}),l})()}}]);